<!-- by dribehance <dribehance.kksdapp.com> -->
<div ui-content-for="title">申请人列表</div>
<div ui-content-for="navbarAction"></div>
<div ui-content-for="backAction">
    <span class="btn" ng-click="back()"><i class="fa fa-chevron-left"></i></span>
</div>
<div class="scrollable">
    <div class="scrollable-content">
        <div class="recommands">
            <div class="recommand" ng-repeat="applicant in applicants track by $index">
                <div class="recommand-header">
                    {{applicant.nickname}} <i class="kk kk-icon" ng-class="{'kk-male':applicant.gender=='1','kk-female':applicant.gender !='1'}"></i>
                </div>
                <div class="recommand-body">
                    <div>语种：{{applicant.return_language}}</div>
                    <p>所在地：{{applicant.address}}</p>
                    <p>个人简介：{{applicant.introduction}}</p>
                    <div class="clearfix">
                        <div class="pull-left">
                            <a ng-click="like(applicant)" class="btn btn-default" ng-if="applicant.is_collect == '0'">
                                <i class="kk kk-like"></i> {{"Follow" | translate}}
                            </a>
                            <a ng-click="unlike(applicant)" class="btn btn-default" ng-if="applicant.is_collect == '1'">
                                <i class="kk kk-like active"></i> {{"Followed" | translate}}
                            </a>
                        </div>
                        <div class="pull-right">
                            <a ng-click="accept(applicant.user_id)" class="btn btn-default">
                                <i class="kk kk-accept" ng-class="{'active':applicant.status == '1'}"></i> {{"Accept" | translate}}
                            </a>
                        </div>
                    </div>
                </div>
                <div class="recommand-avatar">
                    <img ng-src="{{staticImageUrl + applicant.avatar || '../images/avatar_1.png'}}" err-src="../images/avatar_1.png" alt="">
                </div>
            </div>
            <div class="section text-center m" ng-click="loadMore()">{{page.message}}</div>
        </div>
    </div>
</div>
<div ui-content-for="modals">
    <div class="modal modal-overlay" ui-if="payment_panel" ui-state='payment_panel'>
        <form name="editForm" ng-submit="ajaxForm()" class="modal-dialog" style="margin:0">
            <div class="modal-content">
                <div class="modal-header bg-primary clearfix">
                    <div class="pull-left section section-condensed bg-transparent" ui-turn-off="payment_panel">
                        <i class="fa fa-chevron-left" style="position:relative;top:3px"></i>
                    </div>
                    <h4 class="modal-title text-center">{{"Payment" | translate}}</h4>
                    <div class="section bg-transparent text-center">
                        <p>{{"Going to Pay" | translate}}</p>
                        <span class="text-very-large">{{payment_money.price_sign + payment_money.total_money}}</span>
                    </div>
                </div>
                <div class="modal-body" style="padding:0;">
                    <div class="section">
                        <div class="media">
                            <div class="media-left">
                                <div class="circle icon-70">
                                    <img class="media-object block full-width" ng-src="{{staticImageUrl + payment.avatar || '../images/avatar.png'}}" err-src="../images/avatar_1.png" alt="">
                                </div>
                            </div>
                            <div class="media-body">
                                <h4 class="media-heading text-ellipsis">{{payment.nickname}}</h4>
                                <div>语种：{{payment.return_language}}</div>
                                <div>所在地：{{payment.address}}</div>
                            </div>
                        </div>
                    </div>
                    <div class="section large bg-gray-lighter text-primary clearfix">
                        {{"Pay by Balance" | translate}}
                        <span class="pull-right">
                            <ui-switch  ng-model="payment.balance"></ui-switch>
                        </span>
                    </div>
                    <div class="section large">
                        当前可用余额{{payment.price_sign + payment.current_money}}
                    </div>
                    <div class="section large bg-gray-lighter text-primary clearfix">
                        {{"Payment Method" | translate}}
                        <span class="pull-right">
                            <ui-switch  ng-model="payment.channel"></ui-switch>
                        </span>
                    </div>
                    <div class="list-group">
                        <label class="list-group-item">
                            {{"Unionpay" | translate}}
                            <input type="radio" class="hidden" ng-model="payment.channel" value="yinlian">
                            <i class="kk kk-25 kk-checked pull-right" ng-class="{'active':payment.channel =='yinlian'}"></i>
                        </label>
                        <label class="list-group-item">
                            {{"WeChat" | translate}}
                            <input type="radio" class="hidden" ng-model="payment.channel" value="weixin">
                            <i class="kk kk-25 kk-checked pull-right" ng-class="{'active':payment.channel == 'weixin'}"></i>
                        </label>
                        <label class="list-group-item">
                            {{"AliPay" | translate}}
                            <input type="radio" class="hidden" ng-model="payment.channel" value="alipay">
                            <i class="kk kk-25 kk-checked pull-right" ng-class="{'active':payment.channel == 'alipay'}"></i>
                        </label>
                    </div>
                    <div class="section text-center">
                        <button type="submit" class="btn btn-primary" ng-disabled="editForm.edit.$invalid">确认并支付</button>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>
